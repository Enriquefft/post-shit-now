---
phase: 12-solo-founder-experience
plan: 03
type: execute
wave: 2
depends_on:
  - 12-01
  - 12-02
files_modified:
  - src/voice/interview.ts
  - src/planning/ideation.ts
  - .claude/commands/psn/plan.md
autonomous: true
requirements:
  - PLAN-11

must_haves:
  truths:
    - "Interview captures maturity level (never_posted, sporadic, consistent, very_active)"
    - "MATURITY_ADAPTATIONS define behavior per level"
    - "/psn:plan adapts hand-holding based on user maturity"
    - "Never posted users: explain options before asking, suggest 1-2 specific ideas, show sample posts"
    - "Topic suggestion count varies by maturity (2 for never_posted, 8 for very_active)"
  artifacts:
    - path: "src/voice/interview.ts"
      provides: "Maturity capture during interview"
      changes: "Add maturity question, store in InterviewState, persist to profile"
    - path: "src/planning/ideation.ts"
      provides: "Maturity-aware topic suggestions"
      changes: "Add maturityLevel parameter, adapt suggestion count and prescriptiveness"
  key_links:
    - from: "src/planning/ideation.ts"
      to: "src/voice/interview.ts"
      via: "import type { MaturityLevel } from '../voice/types'"
      pattern: "MaturityLevel.*never_posted.*sporadic"
    - from: "src/planning/ideation.ts"
      to: "src/voice/entity-profiles.ts"
      via: "load profile to get maturityLevel"
      pattern: "maturityLevel.*profile"
---

<objective>
Implement maturity-aware planning that adapts prescriptiveness based on user's social media experience level. Never-posted users get full hand-holding; very active users get autonomous mode.

Purpose: Progressive autonomy from cold-start to power-user (PLAN-11).
Output: Maturity capture in interview, adaptations in planning engine.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/12-solo-founder-experience/12-CONTEXT.md
@.planning/phases/12-solo-founder-experience/12-RESEARCH.md
@src/voice/interview.ts
@src/voice/types.ts
@src/planning/ideation.ts
</context>

<tasks>

<task type="auto">
  <name>Add maturity question to interview</name>
  <files>src/voice/interview.ts</files>
  <action>
Update src/voice/interview.ts to capture maturity level:

1. Update InterviewState interface:
   - Add maturityLevel: MaturityLevel | null to InterviewState

2. Add maturity question to IDENTITY_QUESTIONS (after goals question):
   {
     id: "posting_frequency",
     phase: "identity",
     text: "How often do you currently post on social media?",
     hint: "This helps us tailor the experience to your comfort level",
     type: "choice",
     options: [
       "Never posted / just starting",
       "Sporadically (a few times per month)",
       "Consistently (multiple times per week)",
       "Very active (daily or near-daily)"
     ],
     required: true,
   }

3. Update processAnswer() to detect maturity:
   - Parse posting_frequency answer
   - Map to MaturityLevel: "never" -> "never_posted", "sporadically" -> "sporadic", etc.
   - Store in state.maturityLevel

4. Update finalizeProfile() to persist maturity:
   - Set profile.maturityLevel = state.maturityLevel
   - Only if detected (may be null for existing profiles)

5. Create detectMaturityFromAnswer() helper:
   export function detectMaturityFromAnswer(answer: string): MaturityLevel | null {
     const lower = answer.toLowerCase();
     if (lower.includes("never") || lower.includes("starting")) return "never_posted";
     if (lower.includes("sporadically") || lower.includes("few times per month")) return "sporadic";
     if (lower.includes("consistently") || lower.includes("multiple times per week")) return "consistent";
     if (lower.includes("very active") || lower.includes("daily")) return "very_active";
     return null;
   }
  </action>
  <verify>
grep -n "posting_frequency" src/voice/interview.ts returns at least 2
grep -n "maturityLevel" src/voice/interview.ts returns at least 3
grep -n "detectMaturityFromAnswer" src/voice/interview.ts returns 2
  </verify>
  <done>
Maturity question added to interview
Answer mapped to MaturityLevel enum
Maturity persisted to voice profile
  </done>
</task>

<task type="auto">
  <name>Add maturity adaptations to planning</name>
  <files>src/planning/ideation.ts</files>
  <action>
Update src/planning/ideation.ts with maturity-aware behavior:

1. Add import:
   import type { MaturityLevel } from "../voice/types";

2. Define MATURITY_ADAPTATIONS constant:
   export const MATURITY_ADAPTATIONS: Record<MaturityLevel, {
     explainBeforeAsking: boolean;
     suggestedIdeasCount: number;
     showSamplePosts: boolean;
     handHoldingLevel: "full" | "moderate" | "minimal" | "none";
   }> = {
     never_posted: {
       explainBeforeAsking: true,
       suggestedIdeasCount: 2,
       showSamplePosts: true,
       handHoldingLevel: "full",
     },
     sporadic: {
       explainBeforeAsking: false,
       suggestedIdeasCount: 3,
       showSamplePosts: false,
       handHoldingLevel: "moderate",
     },
     consistent: {
       explainBeforeAsking: false,
       suggestedIdeasCount: 5,
       showSamplePosts: false,
       handHoldingLevel: "minimal",
     },
     very_active: {
       explainBeforeAsking: false,
       suggestedIdeasCount: 8,
       showSamplePosts: false,
       handHoldingLevel: "none",
     },
   };

3. Update generatePlanIdeas() signature:
   export async function generatePlanIdeas(options: {
     profile: VoiceProfile;
     // ... existing params
     maturityLevel?: MaturityLevel;
   }): Promise<PlanIdea[]>

4. Adapt idea count based on maturity:
   - Get adaptation: const adaptation = MATURITY_ADAPTATIONS[maturityLevel ?? "consistent"]
   - Limit count: const effectiveCount = Math.min(count, adaptation.suggestedIdeasCount)
   - Generate ideas with effectiveCount

5. Add getMaturityAdaptation() helper:
   export function getMaturityAdaptation(level: MaturityLevel | undefined): typeof MATURITY_ADAPTATIONS.never_posted {
     return MATURITY_ADAPTATIONS[level ?? "consistent"];
   }

6. Update suggestTopics() with maturity parameter:
   - Add maturityLevel?: MaturityLevel to options
   - Adapt count via getMaturityAdaptation()
   - For never_posted: return fewer, more specific suggestions with explanations
  </action>
  <verify>
grep -n "MATURITY_ADAPTATIONS" src/planning/ideation.ts returns 2
grep -n "explainBeforeAsking" src/planning/ideation.ts returns 2
grep -n "suggestedIdeasCount" src/planning/ideation.ts returns 3
grep -n "getMaturityAdaptation" src/planning/ideation.ts returns 2
  </verify>
  <done>
Maturity adaptations defined for all 4 levels
Idea generation adapts count and prescriptiveness
getMaturityAdaptation() helper available for other modules
  </done>
</task>

<task type="auto">
  <name>Update /psn:plan for maturity-aware flow</name>
  <files>.claude/commands/psn/plan.md</files>
  <action>
Update .claude/commands/psn/plan.md with maturity-aware guidance:

1. Add maturity detection step to Phase 2 (Ideation):
   Before generating ideas, check the user's maturity level:
   ```typescript
   const profile = await loadProfile();
   const maturity = profile.maturityLevel;
   const adaptation = getMaturityAdaptation(maturity);
   ```

2. Add maturity-specific behavior sections:

   ### For "Never Posted" Users (handHoldingLevel: "full")

   Before generating ideas, explain the options:
   > "I'll suggest a few post ideas based on your interests. For each one, I'll show you what a draft might look like so you can see how it works."

   Generate only 1-2 specific ideas:
   > "Based on your interest in [pillars], here are two post ideas to start with:"
   > 1. **[Specific topic]** - [Why this angle works]
   > 2. **[Specific topic]** - [Why this angle works]

   Show sample posts:
   > "Here's what the first idea might look like as a draft:"
   > [Show generated sample]

   Ask for preference before proceeding:
   > "Which of these resonates with you? Or would you like different topics?"

   ### For "Sporadic" Users (handHoldingLevel: "moderate")
   - Generate 3 ideas with brief explanations
   - Skip sample post generation unless requested
   - Proceed through rating at user's pace

   ### For "Consistent" Users (handHoldingLevel: "minimal")
   - Generate 5 ideas, let user filter
   - Minimal explanation, focus on efficiency
   - Trust user's judgment on quality

   ### For "Very Active" Users (handHoldingLevel: "none")
   - Generate 8+ ideas, maximum options
   - No explanations unless asked
   - Fast-path through ideation, trust user completely

3. Add maturity note to calendar review:
   For never_posted users, add:
   > "If this is your first time planning content, don't worry about filling every slot. Start with 1-2 posts this week."

4. Document maturity in "Important notes" section.
  </action>
  <verify>
grep -n "Never Posted" .claude/commands/psn/plan.md returns 1
grep -n "Sporadic" .claude/commands/psn/plan.md returns 1
grep -n "Consistent" .claude/commands/psn/plan.md returns 1
grep -n "Very Active" .claude/commands/psn/plan.md returns 1
grep -n "handHoldingLevel" .claude/commands/psn/plan.md returns 1
  </verify>
  <done>
/psn:plan slash command updated with maturity-aware flows
Specific guidance for each maturity level
Never-posted users get full hand-holding
  </done>
</task>

<task type="auto">
  <name>Add sample post generation for never-posted users</name>
  <files>src/planning/ideation.ts</files>
  <action>
Add sample post generation capability to src/planning/ideation.ts:

1. Add generateSamplePost() function:
   export async function generateSamplePost(options: {
     profile: VoiceProfile;
     topic: string;
     platform: Platform;
   }): Promise<string>

   - Generate a short sample post for the given topic
   - Use voice profile for tone matching
   - Keep samples brief (2-3 sentences)
   - Return sample text for Claude to show user

2. Update PlanIdea type to include optional sample:
   export interface PlanIdea {
     // ... existing fields
     samplePost?: string; // For never_posted users
   }

3. In generatePlanIdeas(), for never_posted maturity:
   - If showSamplePosts is true, generate sample for top idea
   - Include sample in first PlanIdea returned

4. Add helper for sample generation context:
   export function getSampleContext(idea: PlanIdea): string {
     // Format sample for display
     // Include context about why this sample works
   }
  </action>
  <verify>
grep -n "generateSamplePost" src/planning/ideation.ts returns 2
grep -n "samplePost" src/planning/ideation.ts returns at least 2
grep -n "getSampleContext" src/planning/ideation.ts returns 2
  </verify>
  <done>
Sample post generation available for never-posted users
PlanIdea can include sample text
Helper function formats sample for display
  </done>
</task>

</tasks>

<verification>
1. Interview captures maturity level via posting_frequency question
2. Maturity mapped to MaturityLevel enum and persisted to profile
3. MATURITY_ADAPTATIONS defines behavior per level
4. generatePlanIdeas() adapts count based on maturity
5. /psn:plan slash command documents maturity-specific flows
6. Never-posted users get 1-2 ideas with sample posts
7. Very active users get 8+ ideas with no hand-holding
</verification>

<success_criteria>
Users with different experience levels get appropriate guidance.
Never-posted users see explanations, few ideas, and sample posts.
Experienced users get maximum autonomy and efficiency.
Maturity captured during interview and persists in profile.
</success_criteria>

<output>
After completion, create `.planning/phases/12-solo-founder-experience/12-03-SUMMARY.md`
</output>
