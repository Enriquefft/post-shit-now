---
phase: 13-academic-content-support
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/voice/interview.ts, src/content/format-picker.ts, src/content/generate.ts, src/content/academic-guidance.ts]
autonomous: true
requirements: [CONTENT-06, ARCHETYPE-01]

must_haves:
  truths:
    - "Academic Researcher archetype available in voice interview for researchers publishing papers"
    - "Format picker detects research/paper keywords and suggests carousel (LinkedIn) or thread (X)"
    - "Academic guidance (hooks, tone patterns, citation styles) available to Claude during generation"
    - "Voice context includes academic-specific guidance when archetype or content is research-focused"
  artifacts:
    - path: "src/voice/interview.ts"
      provides: "Academic Researcher archetype in STARTER_ARCHETYPES"
      contains: "Academic Researcher"
    - path: "src/content/format-picker.ts"
      provides: "Academic keyword detection for format suggestions"
      contains: "ACADEMIC_KEYWORDS"
    - path: "src/content/academic-guidance.ts"
      provides: "Academic hook patterns, tone balance guidance, citation patterns"
      exports: ["ACADEMIC_HOOK_PATTERNS", "TONE_BALANCE_GUIDANCE", "CITATION_PATTERNS"]
    - path: "src/content/generate.ts"
      provides: "Academic guidance integration into voice context"
      exports: ["buildVoicePromptContext"]
  key_links:
    - from: "src/voice/interview.ts"
      to: "STARTER_ARCHETYPES"
      via: "array extension with academic archetype"
      pattern: "STARTER_ARCHETYPES.*Academic Researcher"
    - from: "src/content/format-picker.ts"
      to: "academic keyword detection"
      via: "hasKeywords function with ACADEMIC_KEYWORDS"
      pattern: "ACADEMIC_KEYWORDS.*paper.*research.*study"
    - from: "src/content/generate.ts"
      to: "src/content/academic-guidance.ts"
      via: "import and conditional inclusion in voice context"
      pattern: "import.*academic-guidance.*ACADEMIC_HOOK_PATTERNS"
---

<objective>
Add academic content support to Post Shit Now with purpose-built archetype, format detection, and generation guidance. Users publishing papers or research content get voice-matched posts optimized for academic communities across X, LinkedIn, Instagram, and TikTok.

Purpose: Researchers and academics often share papers, studies, and findings. Standard social media content patterns don't fit their needs — they require hooks that balance technical accuracy with accessibility, platform-appropriate formats (carousel for findings, thread for breakdowns), and flexible citation handling. This phase extends existing voice profiling and format picker systems with academic-specific patterns following the established archetype pattern from Phase 3.

Output:
- Extended STARTER_ARCHETYPES with Academic Researcher archetype
- Format picker with academic keyword detection and format suggestions
- New academic-guidance.ts module with hooks, tone patterns, and citation guidance
- Integrated academic guidance into voice prompt context for generation
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-academic-content-support/13-CONTEXT.md
@.planning/phases/13-academic-content-support/13-RESEARCH.md
@src/voice/interview.ts
@src/content/format-picker.ts
@src/content/generate.ts
</context>

<tasks>

<task type="auto">
  <name>Add Academic Researcher archetype to STARTER_ARCHETYPES</name>
  <files>src/voice/interview.ts</files>
  <action>
    Extend the STARTER_ARCHETYPES array in src/voice/interview.ts with an academic archetype:

    1. Add the following archetype entry to STARTER_ARCHETYPES:
    ```typescript
    {
      name: "Academic Researcher",
      description: "Shares papers, research findings, and academic insights",
      style: { formality: 8, humor: 2, technicalDepth: 9, storytelling: 6, controversy: 4 },
    }
    ```

    2. Position it at the end of the array (after existing archetypes) to maintain backward compatibility.

    3. No other changes needed to interview.ts — the archetype automatically appears in blank-slate interview options via existing mapping in IDENTITY_QUESTIONS_BLANK_SLATE.

    Style trait rationale (per 13-RESEARCH.md):
    - Formality 8/10: Academic content typically more formal, but accessible enough for social media
    - Humor 2/10: Research focus doesn't lend itself to humor
    - Technical depth 9/10: Academic peers expect technical accuracy
    - Storytelling 6/10: "What this means" translations require narrative framing
    - Controversy 4/10: Research-driven debates, not hot takes

    DO NOT create a new interview phase or modify existing question flow. Follow the established archetype pattern from Phase 3 where archetypes are selectable starting templates.
  </action>
  <verify>grep -n "Academic Researcher" src/voice/interview.ts confirms the archetype entry exists at the end of STARTER_ARCHETYPES array with correct style traits.</verify>
  <done>Academic Researcher archetype appears in STARTER_ARCHETYPES with appropriate style traits (formality 8, humor 2, technical depth 9, storytelling 6, controversy 4).</done>
</task>

<task type="auto">
  <name>Add academic keyword detection and format suggestions to format picker</name>
  <files>src/content/format-picker.ts</files>
  <action>
    Extend format-picker.ts with academic content detection:

    1. Add ACADEMIC_KEYWORDS constant after existing keyword lists:
    ```typescript
    const ACADEMIC_KEYWORDS = [
      "paper", "research", "study", "findings", "published", "accepted",
      "journal", "conference", "academic", "publication", "results",
    ];
    ```

    2. The hasKeywords function already exists — no changes needed to it.

    3. Extend pickFormatX function to return thread for academic content:
    - Add detection: if hasKeywords(type, ACADEMIC_KEYWORDS) return thread
    - Rationale: Threads allow breaking down research into digestible chunks (problem → methods → findings → implications)

    4. Extend pickFormatLinkedIn function to return carousel for academic content:
    - Add detection before existing checks: if hasKeywords(type, ACADEMIC_KEYWORDS) return carousel
    - Reasoning: "Research findings and data visualization work best as LinkedIn carousels (11.2x impressions)"
    - Alternatives: long-post (text breakdown), infographic (single-slide summary)

    5. Extend pickFormatInstagram function to return reel-script for academic content:
    - Add detection before existing checks: if hasKeywords(type, ACADEMIC_KEYWORDS) return reel-script
    - Rationale: Visual explanations of research concepts perform well as Reels
    - Alternatives: carousel (step-by-step breakdown), image-post (single finding)

    6. No changes to pickFormatTikTok — academic content defaults to video-post (existing behavior works).

    DO NOT add a new format type. Academic content uses existing formats (thread, carousel, reel-script) with keyword-based selection. Follow the existing pattern where content type keywords drive format selection (e.g., DATA_KEYWORDS, STORY_KEYWORDS).
  </action>
  <verify>
    grep -n "ACADEMIC_KEYWORDS" src/content/format-picker.ts confirms the keyword list exists.
    grep -A 3 "ACADEMIC_KEYWORDS" src/content/format-picker.ts confirms format suggestions for each platform (thread for X, carousel for LinkedIn, reel-script for Instagram).
  </verify>
  <done>ACADEMIC_KEYWORDS constant defined, and all four platform format functions (X, LinkedIn, Instagram, TikTok) check for academic keywords and suggest appropriate formats.</done>
</task>

<task type="auto">
  <name>Create academic guidance module and integrate into voice context</name>
  <files>src/content/academic-guidance.ts, src/content/generate.ts</files>
  <action>
    Create academic guidance patterns and wire them into generation:

    Part 1: Create src/content/academic-guidance.ts with guidance constants:

    ```typescript
    // ─── Academic Hook Patterns ─────────────────────────────────────────────

    export const ACADEMIC_HOOK_PATTERNS = {
      statistics: "Over 70% of students admit procrastination affects their writing quality",
      question: "What if we could reverse climate change within 10 years?",
      problemSolution: "Challenge: Researchers struggle with X. Solution: Our approach reduces time by 40%.",
      authority: "As Einstein once said, 'Education is the most powerful weapon for change.'",
    } as const;

    // ─── Tone Balance Guidance ───────────────────────────────────────────────

    export const TONE_BALANCE_GUIDANCE = {
      academicPeers: {
        description: "Use technical terminology appropriate for field experts",
        formality: "high (8-9/10)",
        citationStyle: "full (author, year, journal)",
      },
      generalPublic: {
        description: "Translate jargon, focus on implications, use analogies",
        formality: "medium (5-7/10)",
        citationStyle: "minimal (link or DOI only)",
      },
      mixedAudience: {
        description: "Lead with implications, include technical details, provide context",
        formality: "medium-high (6-8/10)",
        citationStyle: "moderate (title + link)",
      },
    } as const;

    // ─── Citation Patterns ───────────────────────────────────────────────────

    export const CITATION_PATTERNS = {
      doi: "doi:10.1234/example.doi",
      arxiv: "arXiv:1234.56789",
      titleAuthor: "Paper Title by Author et al. (Journal, 2024)",
      linkOnly: "Read the paper: https://example.com/paper-url",
    } as const;
    ```

    Part 2: Extend src/content/generate.ts buildVoicePromptContext function:

    1. Add import at top:
    ```typescript
    import { ACADEMIC_HOOK_PATTERNS, TONE_BALANCE_GUIDANCE, CITATION_PATTERNS } from "./academic-guidance.ts";
    ```

    2. After the Language section, add conditional academic guidance:
    ```typescript
    // Academic guidance: check if profile has academic traits or content hints research
    const hasAcademicArchetype = profile.identity.pillars.some(p =>
      ["research", "academic", "science", "papers", "studies"].some(k => p.toLowerCase().includes(k))
    );
    const hasAcademicStyle = profile.style.technicalDepth >= 8 && profile.style.formality >= 7;

    if (hasAcademicArchetype || hasAcademicStyle) {
      sections.push("\n## Academic Content Guidance");
      sections.push("When posting research or papers, use these patterns:");
      sections.push("- Hook strategies: statistics, question, problem-solution, authority quotes");
      sections.push("- Tone balance: default to accessible (5-7/10), increase formality for peers");
      sections.push("- Citations: flexible (DOI, arXiv, title+author, or link-free)");
      sections.push("- What this means: translate technical findings for broader audiences");
      sections.push("- Format preference: thread (X), carousel (LinkedIn findings), reel (IG visual)");
    }
    ```

    DO NOT modify the core generation logic. The guidance is context that Claude reads and applies during generation — not rigid templates. Follow the "context assembler, not generator" pattern from research where Claude uses the guidance to generate custom content.

    DO NOT add database schema or voice profile type changes. Academic guidance is purely generation context, no new persistent state.
  </action>
  <verify>
    grep -n "ACADEMIC_HOOK_PATTERNS\|TONE_BALANCE_GUIDANCE\|CITATION_PATTERNS" src/content/academic-guidance.ts confirms all three constants are exported.
    grep -n "academic-guidance" src/content/generate.ts confirms the import and conditional academic guidance section in buildVoicePromptContext.
  </verify>
  <done>academic-guidance.ts created with hook patterns, tone guidance, and citation patterns. buildVoicePromptContext conditionally includes academic guidance when profile has academic traits.</done>
</task>

</tasks>

<verification>
Phase 13 complete when:

1. Academic Researcher archetype selectable during voice interview (blank-slate path)
2. Format picker suggests thread (X), carousel (LinkedIn), reel-script (Instagram) for research/paper content
3. Academic guidance available in voice context during generation
4. No breaking changes to existing voice profiling or format picker functionality

Manual verification flow:
- Run `/psn:voice` with blank-slate profile → confirm "Academic Researcher" appears as option
- Run `/psn:post` with topic "Just published a paper on climate change findings" → confirm format suggests carousel (LinkedIn) or thread (X)
- Inspect generated draft voice context → confirm "## Academic Content Guidance" section appears when archetype selected
</verification>

<success_criteria>
Phase 13 success criteria from ROADMAP.md:

1. `paper` or `research` content archetype exists with templates for paper announcements, thread breakdowns, and "what this means" translations
   - Academic Researcher archetype added to STARTER_ARCHETYPES with appropriate style traits
   - Academic guidance includes hook patterns for announcements, breakdowns, and translations

2. Format picker recognizes research content and suggests appropriate formats per platform (LinkedIn carousel for findings, X thread for breakdowns)
   - ACADEMIC_KEYWORDS constant defined in format-picker.ts
   - All platform format functions check for academic keywords and suggest formats

3. Templates include citation-ready formatting and hooks optimized for academic communities
   - CITATION_PATTERNS constant provides DOI, arXiv, title+author, and link-only formats
   - ACADEMIC_HOOK_PATTERNS provides statistics, question, problem-solution, and authority quote patterns

4. Archetype balances technical accuracy with accessibility for broader audiences
   - TONE_BALANCE_GUIDANCE provides formality guidance for academic peers, general public, and mixed audiences
   - Academic guidance in voice context emphasizes accessibility-first default with user override
</success_criteria>

<output>
After completion, create `.planning/phases/13-academic-content-support/13-01-SUMMARY.md` with:
- What was built (archetype, format detection, guidance module)
- How it integrates with existing systems (voice interview, format picker, generation)
- Verification results from manual testing
- Any deviations from plan or discovered edge cases
</output>
