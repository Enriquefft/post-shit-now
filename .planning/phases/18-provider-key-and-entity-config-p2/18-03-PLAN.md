---
phase: 18-provider-key-and-entity-config-p2
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/entity-creation-workflow.md
autonomous: true
requirements:
  - M4
must_haves:
  truths:
    - "Clear entity creation workflow documentation exists"
    - "Users understand entity creation, voice interview, and platform setup flow"
    - "Documentation includes slug collision handling explanation"
  artifacts:
    - path: "docs/entity-creation-workflow.md"
      provides: "Entity creation workflow guide"
      min_lines: 80
  key_links:
    - from: "docs/entity-creation-workflow.md"
      to: "src/cli/setup.ts"
      via: "Command references"
      pattern: "/psn:setup entity"
---

<objective>
Create comprehensive workflow documentation for entity creation, including voice interview setup and platform configuration.

Purpose: Issue M4 - Missing entity creation flow documentation. Entity creation commands exist but users have no clear guidance on the complete workflow from creation through voice interview to platform setup. This plan creates documentation (not code changes) to guide users through the process.

Output: Clear, actionable documentation that explains the full entity creation workflow.
</objective>

<execution_context>
@/home/hybridz/.claude/get-shit-done/workflows/execute-plan.md
@/home/hybridz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-provider-key-and-entity-config-p2/18-RESEARCH.md

@src/cli/setup.ts (entity subcommand)
@src/cli/setup-voice.ts (createEntityWithInterview function)
@src/voice/entity-profiles.ts (createEntity function)
@src/cli/voice-interview.ts (interview commands)
</context>

<tasks>

<task type="auto">
  <name>Create entity creation workflow documentation</name>
  <files>docs/entity-creation-workflow.md</files>
  <action>
    Create a new markdown file at docs/entity-creation-workflow.md with the following structure:

    ```markdown
    # Entity Creation Workflow

    ## Overview
    Entities allow you to manage multiple projects, brands, or personas with separate voice profiles. Each entity has its own voice profile, content generation settings, and platform connections.

    ## Quick Start

    1. List existing entities: `/psn:setup entity --list`
    2. Create a new entity: `/psn:setup entity --create "My Project"`
    3. Start voice interview: `/psn:voice start --entity my-project`
    4. Complete interview: `/psn:voice complete --entity my-project`
    5. Connect platforms: `/psn:setup (X, LinkedIn, Instagram, TikTok)`

    ## Detailed Workflow

    ### Step 1: Create Entity
    Entities are created with a display name and optional description:

    ```
    bun run src/cli/setup.ts entity --create "My Side Project" --description "A project about AI tools"
    ```

    The system automatically generates a URL-friendly slug from the display name:
    - "My Side Project" → "my-side-project"
    - "Brand Name" → "brand-name"

    ### Step 2: Voice Interview
    Each entity requires a voice profile to generate content:

    ```
    bun run src/cli/setup.ts voice start --entity my-project
    ```

    The interview collects:
    - Maturity level (never_posted, starting, established, veteran)
    - Brand values and voice characteristics
    - Content pillars and topics
    - Platform-specific preferences

    Answer questions naturally. The system analyzes your responses to build a detailed voice profile.

    ### Step 3: Complete Interview
    After answering all questions:

    ```
    bun run src/cli/setup.ts voice complete --entity my-project
    ```

    This finalizes the voice profile and saves it to the database. The entity is now ready for content generation.

    ### Step 4: Connect Platforms
    Connect social platforms to publish content:

    ```
    bun run src/cli/setup.ts x
    bun run src/cli/setup.ts linkedin
    bun run src/cli/setup.ts instagram
    bun run src/cli/setup.ts tiktok
    ```

    Platform connections are shared across all entities in your hub.

    ## Slug Collisions

    If you create multiple entities with similar names, the system automatically handles slug collisions:

    - First: "my-project" → slug: "my-project"
    - Second: "my-project" → slug: "my-project-2"
    - Third: "my-project" → slug: "my-project-3"

    You don't need to worry about naming conflicts—the system ensures unique slugs.

    ## Commands Reference

    ### Entity Management
    - `/psn:setup entity --list` - List all entities
    - `/psn:setup entity --create "Name"` - Create new entity
    - `/psn:setup entity --delete <slug>` - Delete entity

    ### Voice Interview
    - `/psn:setup voice start --entity <slug>` - Start voice interview
    - `/psn:setup voice status --entity <slug>` - Check interview progress
    - `/psn:setup voice complete --entity <slug>` - Complete and save profile

    ### Platform Setup
    - `/psn:setup x` - Connect X (Twitter)
    - `/psn:setup linkedin` - Connect LinkedIn
    - `/psn:setup instagram` - Connect Instagram
    - `/psn:setup tiktok` - Connect TikTok

    ## Multi-Entity Use Cases

    ### Personal Brand + Side Project
    1. Create "personal" entity for your main brand
    2. Create "side-project" entity for your project
    3. Run voice interview for each (different audiences, different voice)
    4. Generate content targeted to each audience

    ### Agency Accounts
    1. Create entities for each client (e.g., "client-a", "client-b")
    2. Run voice interview for each client's brand voice
    3. Generate and approve content per client
    4. Publish to client's connected platforms

    ## Troubleshooting

    ### Interview Not Completing
    If the interview state persists after completion:
    ```
    bun run src/cli/setup.ts voice complete --entity my-project
    ```

    Check status with:
    ```
    bun run src/cli/setup.ts voice status --entity my-project
    ```

    ### Entity Not Found
    List entities to find the correct slug:
    ```
    bun run src/cli/setup.ts entity --list
    ```

    Use the slug (not display name) in all commands.

    ### Setup Status
    Check overall setup progress:
    ```
    bun run src/cli/setup.ts status
    ```

    This shows which steps are complete and what remains.
    ```

    The documentation should be clear, actionable, and cover the complete workflow from entity creation through voice interview to platform setup.
  </action>
  <verify>
    Verify the documentation file exists at docs/entity-creation-workflow.md and contains all sections listed above.
  </verify>
  <done>
    Entity creation workflow documentation exists and provides clear guidance for users to create entities, complete voice interviews, and connect platforms.
  </done>
</task>

</tasks>

<verification>
Overall phase verification:
1. docs/entity-creation-workflow.md file exists
2. Documentation covers entity creation, voice interview, and platform setup
3. Slug collision handling is explained
4. Commands reference is complete and accurate
5. Troubleshooting section addresses common issues
</verification>

<success_criteria>
Users have clear, comprehensive documentation for the complete entity creation workflow.
</success_criteria>

<output>
After completion, create `.planning/phases/18-provider-key-and-entity-config-p2/18-03-SUMMARY.md`
</output>
