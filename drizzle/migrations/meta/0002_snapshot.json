{
  "id": "37fad9b6-b10a-41e9-9604-9511ae476a8d",
  "prevId": "29e8b0f1-fb5d-4b11-9928-6db577e9ab0e",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.api_keys": {
      "name": "api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service": {
          "name": "service",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key_name": {
          "name": "key_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "encrypted_value": {
          "name": "encrypted_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "api_keys_user_service_idx": {
          "name": "api_keys_user_service_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "service",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "api_keys_isolation": {
          "name": "api_keys_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"api_keys\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"api_keys\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.edit_history": {
      "name": "edit_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "post_id": {
          "name": "post_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "original_content": {
          "name": "original_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "edited_content": {
          "name": "edited_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "edit_distance": {
          "name": "edit_distance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "edit_ratio": {
          "name": "edit_ratio",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "edit_patterns": {
          "name": "edit_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "edit_history_isolation": {
          "name": "edit_history_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"edit_history\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"edit_history\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.engagement_config": {
      "name": "engagement_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "niche_keywords": {
          "name": "niche_keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "platform_toggles": {
          "name": "platform_toggles",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "daily_caps": {
          "name": "daily_caps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "cooldown_minutes": {
          "name": "cooldown_minutes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "blocklist": {
          "name": "blocklist",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "engagement_config_user_id_unique": {
          "name": "engagement_config_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {
        "engagement_config_isolation": {
          "name": "engagement_config_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"engagement_config\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"engagement_config\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.engagement_log": {
      "name": "engagement_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "opportunity_id": {
          "name": "opportunity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "engagement_type": {
          "name": "engagement_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "external_reply_id": {
          "name": "external_reply_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "engaged_at": {
          "name": "engaged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "engagement_log_isolation": {
          "name": "engagement_log_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"engagement_log\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"engagement_log\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.engagement_opportunities": {
      "name": "engagement_opportunities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "external_post_id": {
          "name": "external_post_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "author_handle": {
          "name": "author_handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "author_follower_count": {
          "name": "author_follower_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "post_snippet": {
          "name": "post_snippet",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "post_url": {
          "name": "post_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "composite_score_bps": {
          "name": "composite_score_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "relevance_score_bps": {
          "name": "relevance_score_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "recency_score_bps": {
          "name": "recency_score_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reach_score_bps": {
          "name": "reach_score_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "potential_score_bps": {
          "name": "potential_score_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "suggested_type": {
          "name": "suggested_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "draft_content": {
          "name": "draft_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "engaged_at": {
          "name": "engaged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "engagement_opp_ext_platform_idx": {
          "name": "engagement_opp_ext_platform_idx",
          "columns": [
            {
              "expression": "external_post_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "platform",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "engagement_opportunities_isolation": {
          "name": "engagement_opportunities_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"engagement_opportunities\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"engagement_opportunities\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ideas": {
      "name": "ideas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hub_id": {
          "name": "hub_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'spark'"
        },
        "urgency": {
          "name": "urgency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'evergreen'"
        },
        "pillar": {
          "name": "pillar",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "format": {
          "name": "format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "claimed_by": {
          "name": "claimed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kill_reason": {
          "name": "kill_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_touched_at": {
          "name": "last_touched_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "ideas_isolation": {
          "name": "ideas_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"ideas\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"ideas\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.invite_codes": {
      "name": "invite_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "hub_id": {
          "name": "hub_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "used_by": {
          "name": "used_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "invite_codes_code_unique": {
          "name": "invite_codes_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.monitored_accounts": {
      "name": "monitored_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_handle": {
          "name": "account_handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_name": {
          "name": "account_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_checked_at": {
          "name": "last_checked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_post_count": {
          "name": "last_post_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "monitored_accounts_isolation": {
          "name": "monitored_accounts_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"monitored_accounts\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"monitored_accounts\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_log": {
      "name": "notification_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient": {
          "name": "recipient",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "message_id": {
          "name": "message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dedup_key": {
          "name": "dedup_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "notification_log_isolation": {
          "name": "notification_log_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"notification_log\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"notification_log\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_preferences": {
      "name": "notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'waha'"
        },
        "push_enabled": {
          "name": "push_enabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "digest_enabled": {
          "name": "digest_enabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "digest_frequency": {
          "name": "digest_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'daily'"
        },
        "digest_time": {
          "name": "digest_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'08:00'"
        },
        "quiet_hours_start": {
          "name": "quiet_hours_start",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quiet_hours_end": {
          "name": "quiet_hours_end",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_push_per_day": {
          "name": "max_push_per_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notification_preferences_user_id_unique": {
          "name": "notification_preferences_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {
        "notification_preferences_isolation": {
          "name": "notification_preferences_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"notification_preferences\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"notification_preferences\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.oauth_tokens": {
      "name": "oauth_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "scopes": {
          "name": "scopes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "oauth_tokens_isolation": {
          "name": "oauth_tokens_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"oauth_tokens\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"oauth_tokens\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.post_metrics": {
      "name": "post_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "post_id": {
          "name": "post_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_post_id": {
          "name": "external_post_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "impression_count": {
          "name": "impression_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "like_count": {
          "name": "like_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "retweet_count": {
          "name": "retweet_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "quote_count": {
          "name": "quote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "reply_count": {
          "name": "reply_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "bookmark_count": {
          "name": "bookmark_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "url_link_clicks": {
          "name": "url_link_clicks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "user_profile_clicks": {
          "name": "user_profile_clicks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "engagement_rate_bps": {
          "name": "engagement_rate_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "post_format": {
          "name": "post_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "post_topic": {
          "name": "post_topic",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "post_pillar": {
          "name": "post_pillar",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "collected_at": {
          "name": "collected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "post_metrics_post_platform_idx": {
          "name": "post_metrics_post_platform_idx",
          "columns": [
            {
              "expression": "post_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "platform",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "post_metrics_isolation": {
          "name": "post_metrics_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"post_metrics\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"post_metrics\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.posts": {
      "name": "posts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "media_urls": {
          "name": "media_urls",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "sub_status": {
          "name": "sub_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_post_id": {
          "name": "parent_post_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thread_position": {
          "name": "thread_position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_run_id": {
          "name": "trigger_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fail_reason": {
          "name": "fail_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "platform_post_ids": {
          "name": "platform_post_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "external_post_id": {
          "name": "external_post_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "series_id": {
          "name": "series_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approval_status": {
          "name": "approval_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewer_id": {
          "name": "reviewer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "review_comment": {
          "name": "review_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "posts_isolation": {
          "name": "posts_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"posts\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"posts\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.preference_model": {
      "name": "preference_model",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "top_formats": {
          "name": "top_formats",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "top_pillars": {
          "name": "top_pillars",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "best_posting_times": {
          "name": "best_posting_times",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "hook_patterns": {
          "name": "hook_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "common_edit_patterns": {
          "name": "common_edit_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "avg_edit_ratio": {
          "name": "avg_edit_ratio",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fatigued_topics": {
          "name": "fatigued_topics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "locked_settings": {
          "name": "locked_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "killed_idea_patterns": {
          "name": "killed_idea_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "follower_history": {
          "name": "follower_history",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "preference_model_user_id_unique": {
          "name": "preference_model_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {
        "preference_model_isolation": {
          "name": "preference_model_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"preference_model\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"preference_model\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.series": {
      "name": "series",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hub_id": {
          "name": "hub_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template": {
          "name": "template",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "cadence": {
          "name": "cadence",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cadence_custom_days": {
          "name": "cadence_custom_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tracking_mode": {
          "name": "tracking_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'auto-increment'"
        },
        "tracking_format": {
          "name": "tracking_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "episode_count": {
          "name": "episode_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "last_published_at": {
          "name": "last_published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "pillar": {
          "name": "pillar",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "series_isolation": {
          "name": "series_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"series\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"series\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.strategy_adjustments": {
      "name": "strategy_adjustments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "adjustment_type": {
          "name": "adjustment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field": {
          "name": "field",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "old_value": {
          "name": "old_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "strategy_adjustments_isolation": {
          "name": "strategy_adjustments_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"strategy_adjustments\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"strategy_adjustments\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.team_members": {
      "name": "team_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hub_id": {
          "name": "hub_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "left_at": {
          "name": "left_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "team_members_user_hub_idx": {
          "name": "team_members_user_hub_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "hub_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "team_members_isolation": {
          "name": "team_members_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"team_members\".\"user_id\" = current_setting('app.current_user_id') OR \"team_members\".\"hub_id\" IN (SELECT hub_id FROM team_members WHERE user_id = current_setting('app.current_user_id') AND left_at IS NULL)",
          "withCheck": "\"team_members\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trends": {
      "name": "trends",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_score": {
          "name": "source_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pillar_relevance": {
          "name": "pillar_relevance",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "overall_score": {
          "name": "overall_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "suggested_angles": {
          "name": "suggested_angles",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "used_in_idea_id": {
          "name": "used_in_idea_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "trends_user_title_source_idx": {
          "name": "trends_user_title_source_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "title",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "trends_isolation": {
          "name": "trends_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"trends\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"trends\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_external_id_unique": {
          "name": "users_external_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "external_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.weekly_plans": {
      "name": "weekly_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "week_start": {
          "name": "week_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "week_end": {
          "name": "week_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "slots": {
          "name": "slots",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "total_slots": {
          "name": "total_slots",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "completed_slots": {
          "name": "completed_slots",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "weekly_plans_isolation": {
          "name": "weekly_plans_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"weekly_plans\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"weekly_plans\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.whatsapp_sessions": {
      "name": "whatsapp_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_state": {
          "name": "session_state",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'inactive'"
        },
        "conversation_context": {
          "name": "conversation_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "whatsapp_sessions_user_id_unique": {
          "name": "whatsapp_sessions_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {
        "whatsapp_sessions_isolation": {
          "name": "whatsapp_sessions_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "hub_user"
          ],
          "using": "\"whatsapp_sessions\".\"user_id\" = current_setting('app.current_user_id')",
          "withCheck": "\"whatsapp_sessions\".\"user_id\" = current_setting('app.current_user_id')"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}